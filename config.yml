logger:
  nocoloredoutput: true
  withtrace: false
  level: info

introspector:
  dsn: http://192.168.100.48:30611
  endpoint: /oauth2/introspect
  contenttype: application/x-www-form-urlencoded
  method: POST
  validmarker: '"active":true'
  bodytemplate: "token_type_hint=access_token&token={{.Token}}"
  cookiename: ["access_token"]
  queryparamname: ["wasd-access-token"]
  poolsize: 50
  pooltimeout: 10s

redis: # Redis
  dsn: redis://redis:6379
  minidleconnections: 10`
  maxopenedconnections: 30
  maxconnectionlifetime: 30s

proxy:
  listen: 0.0.0.0:8080
  hydration:
    requestid: true
    introspect: true # nothing, plaintext, base64
    introspectasbase64: false
  routes:
    /api/v1/:
      dsn: http://192.168.100.48:30637
      subroute:
        users:
          tokenlimit:
          counter: 1000
          time: 1m
        refresh:
          count: 100
          time: 2m
        inmemorycache:
          ttl: 30s
        externalcache:
          ttl: 60s
    /api/v1/users:
      dsn: http://192.168.100.48:30637
      tokenlimit:
        counter: 1000
        time: 1m
      refresh:
        count: 100
        time: 2m
      inmemorycache:
        ttl: 30s
      externalcache:
        ttl: 60s
